<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Arduino Visualizer</title>
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <header>
      <h1>Arduino Visualizer</h1>
    </header>

    <main>
      <section id="raw-data">
        <h2>Collision Detection</h2>
        <p>Showing last <span id="tail-size">50</span> samples from branch <strong>Owen-Part-2</strong>.</p>
        <div id="raw-controls">
          <label>Tail size: <input id="tail-input" type="number" value="50" min="1" max="1000" /></label>
          <button id="refresh">Refresh Now</button>
          <label style="margin-left:12px">Live serial port: <input id="serial-port" placeholder="/dev/ttyUSB0" /></label>
          <label>Baud: <input id="serial-baud" type="number" value="9600" style="width:100px"/></label>
          <button id="serial-start">Start Serial</button>
          <button id="serial-stop">Stop Serial</button>
        </div>
        <table id="raw-table">
          <thead>
            <tr><th>#</th><th>ax (g)</th><th>ay (g)</th><th>az (g)</th></tr>
          </thead>
          <tbody></tbody>
        </table>
      </section>
      <section id="angles">
        <h2>Inclination Angle Measurement</h2>
        <p>Source: branch <strong>Angles</strong>. Showing last <span id="angles-tail">50</span> samples.</p>
        <div id="angles-controls">
          <label>Tail size: <input id="angles-tail-input" type="number" value="50" min="1" max="1000" /></label>
          <button id="angles-refresh">Refresh Angles</button>
        </div>
        <div style="display:flex;gap:20px;flex-wrap:wrap;align-items:flex-start">
          <div style="flex:1;min-width:260px">
            <table id="angles-table">
              <thead><tr><th>#</th><th>ax (deg)</th><th>ay (deg)</th><th>az (deg)</th></tr></thead>
              <tbody></tbody>
            </table>
          </div>
          <div style="flex:1;min-width:320px">
            <canvas id="angles-chart" width="600" height="300"></canvas>
          </div>
          <div style="flex:1;min-width:320px">
            <div id="three-container" style="width:100%;height:300px;background:#eef"></div>
          </div>
        </div>
      </section>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
    <script src="/app.js"></script>
  </body>
</html>
